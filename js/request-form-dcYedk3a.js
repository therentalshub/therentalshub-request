var trhRequestForm=function(l){function t(){var t,n;"undefined"!=typeof trhApp&&(r=l("#trhrf_start_date"),o=l("#trhrf_start_time"),s=l("#trhrf_end_date"),c=l("#trhrf_end_time"),u=l("#trhrf_car"),h=l("#trhrf_loc"),f=l("#trhrf_fname"),_=l("#trhrf_lname"),p=l("#trhrf_email"),m=l("#trhrf_phone"),d=l("#trhrf_notes"),v=l("#trhrf_car_name"),j=l("#trhrf_loc_name"),b=l("#trhrf_flight"),a=l("#trhrf_car_wrap"),e=l("#trhrf_location_wrap"),y=l("#trhrf_flight_wrap"),x=l("#trh-request-form"),u.on("change",function(){v.val(u.find("option:selected").text())}),h.on("change",function(){j.val(h.find("option:selected").text())}),t={altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d",minDate:(new Date).fp_incr(1)},w=r.flatpickr(t),g=s.flatpickr(t),n=1+trhApp.minDays,g.set("minDate",(new Date).fp_incr(n)),w.config.onChange.push(function(t,a,e){var l=new Date(a).fp_incr(n);g.set("minDate",new Date(a).fp_incr(n)),g.setDate(l)}),t={enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,defaultDate:trhApp.defaultTime,minuteIncrement:30},o.flatpickr(t),c.flatpickr(t),trhApp.showCars&&(a.css("display","block"),l.post(my_ajax_obj.ajax_url,{_ajax_nonce:my_ajax_obj.nonce,action:"therentalshub_get_cars"},function(t){if(!Object.hasOwn(t,"error"))for(i=0;i<t.length;i++)u.append(l("<option>",{value:t[i].id,text:t[i].brand+" "+t[i].model+" - "+t[i].gear}))})),trhApp.showLocations&&(e.css("display","block"),l.post(my_ajax_obj.ajax_url,{_ajax_nonce:my_ajax_obj.nonce,action:"therentalshub_get_locations"},function(t){if(!Object.hasOwn(t,"error"))for(i=0;i<t.length;i++)h.append(l("<option>",{value:t[i].id,text:t[i].name}))})),trhApp.showFlightNr&&y.css("display","block"),x.on("submit",function(t){var a,e;t.preventDefault(),""===r.val()||""===o.val()||""===s.val()||""===c.val()||""===f.val()||""===_.val()||""===p.val()?alert("Please fill all required (with the asterisk) fields."):(a=x.find(":submit"),e=a.html(),a.html("Please wait..."),l("#trh-request-failed-alert").css("display","none"),l("#trh-request-success-alert").css("display","none"),l.post(my_ajax_obj.ajax_url,{_ajax_nonce:my_ajax_obj.nonce,action:"therentalshub_submit_form",sd:r.val(),st:o.val(),ed:s.val(),et:c.val(),car:u.val(),loc:h.val(),fname:f.val(),lname:_.val(),email:p.val(),phone:m.val(),notes:d.val(),carname:v.val(),locname:j.val(),flightname:b.val()},function(t){a.html(e),Object.hasOwn(t,"error")?(l("#trh-request-failed-alert").css("display","block"),l(".trh-error-alert").html(t.error)):l("#trh-request-success-alert").css("display","block")}))}))}var r=null,o=null,s=null,c=null,u=null,h=null,f=null,_=null,p=null,m=null,d=null,v=null,j=null,b=null,a=null,e=null,y=null,x=null,w=null,g=null;return{init:function(){t()}}}(jQuery);jQuery(document).ready(function(t){trhRequestForm.init()});