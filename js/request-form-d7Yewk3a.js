var trhRequestForm=function(r){function t(){var t,l;"undefined"!=typeof trhApp&&(n=r("#trhrf_start_date"),o=r("#trhrf_start_time"),s=r("#trhrf_end_date"),c=r("#trhrf_end_time"),h=r("#trhrf_car"),u=r("#trhrf_loc"),f=r("#trhrf_fname"),_=r("#trhrf_lname"),p=r("#trhrf_email"),m=r("#trhrf_phone"),d=r("#trhrf_notes"),v=r("#trhrf_car_name"),j=r("#trhrf_loc_name"),b=r("#trhrf_flight"),a=r("#trhrf_car_wrap"),e=r("#trhrf_location_wrap"),x=r("#trhrf_flight_wrap"),w=r("#trh-request-form"),h.on("change",function(){v.val(h.find("option:selected").text())}),u.on("change",function(){j.val(u.find("option:selected").text())}),t={altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d",minDate:(new Date).fp_incr(1)},g=n.flatpickr(t),y=s.flatpickr(t),l=1+trhApp.minDays,y.set("minDate",(new Date).fp_incr(l)),g.config.onChange.push(function(t,a,e){var r=new Date(a).fp_incr(l);y.set("minDate",new Date(a).fp_incr(l)),y.setDate(r)}),t={enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,defaultDate:trhApp.defaultTime,minuteIncrement:30},o.flatpickr(t),c.flatpickr(t),trhApp.showCars&&(a.css("display","block"),r.post(trh_ajax_obj.ajax_url,{_ajax_nonce:trh_ajax_obj.nonce,action:"therentalshub_get_cars"},function(t){if(!Object.hasOwn(t,"error"))for(i=0;i<t.length;i++)h.append(r("<option>",{value:t[i].id,text:t[i].brand+" "+t[i].model+" - "+t[i].gear}))})),trhApp.showLocations&&(e.css("display","block"),r.post(trh_ajax_obj.ajax_url,{_ajax_nonce:trh_ajax_obj.nonce,action:"therentalshub_get_locations"},function(t){if(!Object.hasOwn(t,"error"))for(i=0;i<t.length;i++)u.append(r("<option>",{value:t[i].id,text:t[i].name}))})),trhApp.showFlightNr&&x.css("display","block"),w.on("submit",function(t){var a,e;t.preventDefault(),""===n.val()||""===o.val()||""===s.val()||""===c.val()||""===f.val()||""===_.val()||""===p.val()?alert("Please fill all required (with the asterisk) fields."):(a=w.find(":submit"),e=a.html(),a.html("Please wait..."),r("#trh-request-failed-alert").css("display","none"),r("#trh-request-success-alert").css("display","none"),r.post(trh_ajax_obj.ajax_url,{_ajax_nonce:trh_ajax_obj.nonce,action:"therentalshub_submit_form",sd:n.val(),st:o.val(),ed:s.val(),et:c.val(),car:h.val(),loc:u.val(),fname:f.val(),lname:_.val(),email:p.val(),phone:m.val(),notes:d.val(),carname:v.val(),locname:j.val(),flightname:b.val()},function(t){a.html(e),Object.hasOwn(t,"error")?(r("#trh-request-failed-alert").css("display","block"),r(".trh-error-alert").html(t.error)):r("#trh-request-success-alert").css("display","block")}))}))}var n=null,o=null,s=null,c=null,h=null,u=null,f=null,_=null,p=null,m=null,d=null,v=null,j=null,b=null,a=null,e=null,x=null,w=null,g=null,y=null;return{init:function(){t()}}}(jQuery,flatpickr);jQuery(document).ready(function(t){trhRequestForm.init()});